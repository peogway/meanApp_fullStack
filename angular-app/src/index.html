<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MEAN Auth App</title>
    <link
      rel="stylesheet"
      href="https://bootswatch.com/5/sketchy/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
  </head>
  <body>
    <app-root></app-root>
    <script>
      function adjustFooterPosition() {
        const footer = document.getElementById("footer");
        if (!footer) return;
        const contentHeight = document.body.scrollHeight;
        const viewportHeight = window.innerHeight;

        if (contentHeight + 100 > viewportHeight) {
          footer.classList.add("relative-footer");
        } else {
          footer.classList.remove("relative-footer");
        }
      }

      // Adjust on load and on resize
      window.addEventListener("load", adjustFooterPosition);
      window.addEventListener("resize", adjustFooterPosition);
      window.addEventListener("load", adjustFooterPosition);
      window.addEventListener("resize", adjustFooterPosition);

      // Observe changes in the content
      const observer = new MutationObserver(adjustFooterPosition);
      observer.observe(document.body, { childList: true, subtree: true });

      document.addEventListener("click", function (event) {
        const navbarToggler = document.querySelector(".navbar-toggler");
        const navbarCollapse = document.querySelector("#navbarResponsive");

        // Check if the clicked element is inside the navbar or is the toggler
        if (
          !navbarCollapse.contains(event.target) &&
          !navbarToggler.contains(event.target)
        ) {
          // Collapse the menu
          const bsCollapse = new bootstrap.Collapse(navbarCollapse, {
            toggle: false,
          });
          bsCollapse.hide();
        }
      });
    </script>
  </body>
</html>
